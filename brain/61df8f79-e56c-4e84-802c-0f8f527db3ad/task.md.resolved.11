# Filter out ETFs from Stock Screener

- [x] Analyze [stock_tool.py](file:///c:/Users/shunk/.gemini/antigravity/scratch/stock_tool/stock_tool.py) and [app.py](file:///c:/Users/shunk/.gemini/antigravity/scratch/stock_tool/app.py) to identify data source and screening logic <!-- id: 0 -->
- [/] Research how to identify ETFs in the used data source (likely yfinance or similar) <!-- id: 1 -->
- [x] Verify `quoteType` field in yfinance for Stocks vs ETFs <!-- id: 1.1 -->
- [x] Verify `quoteType` field in yfinance for REITs <!-- id: 1.2 -->
- [x] Create implementation plan to exclude ETFs <!-- id: 2 -->
- [x] Implement the filter in [stock_tool.py](file:///c:/Users/shunk/.gemini/antigravity/scratch/stock_tool/stock_tool.py) and [app.py](file:///c:/Users/shunk/.gemini/antigravity/scratch/stock_tool/app.py) <!-- id: 3 -->
- [x] Verify the changes <!-- id: 4 -->
- [x] Investigate 1309.T data (quoteType, name, etc.) <!-- id: 5 -->
- [x] Improve ETF detection logic (check Name) <!-- id: 6 -->
- [x] Verify fix with 1309.T and others <!-- id: 7 -->
- [x] Fix Streamlit module caching issue (reload stock_tool) <!-- id: 8 -->
- [x] Add failsafe name check in app.py <!-- id: 9 -->
